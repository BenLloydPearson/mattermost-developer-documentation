<!DOCTYPE html>





<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title> Apps Developer Guide</title>
<meta name="viewport" content="width=device-width, initial-scale=1">  
<meta http-equiv="content-language" content="en-us" />

<meta name="og:site_name" value="Mattermost.com">
<meta name="og:title" value="Apps Developer Guide">

 
  <meta name="description" content="An overview of Apps.">
<meta name="twitter:description" content="An overview of Apps.">
<meta name="og:description" content="An overview of Apps.">



 
<link rel="canonical" href="https://developers.mattermost.com/integrate/apps/developer-guide/">


<link rel="shortcut icon" type="image/png" href="https://developers.mattermost.com/img/favicon-32x32.png" />

<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">


<link rel="stylesheet" href="https://developers.mattermost.com/css/bootstrap.min.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/tabs.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/bar.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/styles.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/code.css">
<link rel="stylesheet" href="https://developers.mattermost.com/css/note.css">

<script async defer src="https://buttons.github.io/buttons.js"></script>


<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-53S4TVZ');</script>


    </head>
<body>
    
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-53S4TVZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


    
<header class="with-notification-bar">

    <a href="https://developers.mattermost.com/"><img src="https://developers.mattermost.com/img/logo.svg" alt="Mattermost Logo" width="212px"></a>
    <div class="header__menu-toggle">
        <i class="fa fa-bars"></i>
    </div>
    <ul class="header__links--right">
        <li><a href="https://developers.mattermost.com/">Home</a></li>
        
            
            
            
                
                    <li><a href="https://developers.mattermost.com/contribute/getting-started/">Contribute</a></li>
                
            
        
            
            
            
                
                    <li class="active"><a href="https://developers.mattermost.com/integrate/getting-started/">Integrate</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://developers.mattermost.com/extend/getting-started/">Extend</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://developers.mattermost.com/blog/">Blog</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://docs.mattermost.com/">Admin Docs</a></li>
                
            
        
    </ul>
</header>


<div class='notification-bar sticky-top'>
    <div class="notification-bar__content">
        <a class="notification-bar__close">
            <span aria-hidden="true">×</span>
        </a>
        <a href="https://mattermost.com/careers">
            We&#39;re hiring!
        </a>
    </div>
</div>




    <div id="wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-3 sidebar">
    <div class="sidebar__menu-toggle">
        Apps Developer Guide
        <i class="fa fa-bars pull-right"></i>
    </div>
    <div class="row sidebar__links">
        
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/integrate/getting-started/"> Getting Started</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/getting-started/how-should-i-integrate/"> How Should I Integrate?</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/incoming-webhooks/"> Incoming Webhooks</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/outgoing-webhooks/"> Outgoing Webhooks</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/slash-commands/"> Slash Commands</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/rest-api/"> API Reference</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="https://developers.mattermost.com/integrate/examples/"> Examples</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="https://developers.mattermost.com/integrate/apps/"> Apps (Developers Preview)</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/quick-start-go/"> Quick start guide (Go)</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        
                            
                        

                        
                            
                        

                        <span class="item active">
                            <i class="sub-menu__toggle fa fa-minus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a class="active" href="https://developers.mattermost.com/integrate/apps/developer-guide/"> Apps Developer Guide</a></span>
                            
                        </span>
                        <ul class="sub-menu" style="display: block">
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/example-interactivity/"> Interactivity</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/example-post-menu/"> Post Menu Example</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/using-mattermost-api/"> Apps APIs</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/using-third-party-api/"> Third-party APIs</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="https://developers.mattermost.com/integrate/apps/lifecycle/"> App Lifecycle</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                </ul>
            
        
    </div>
</div>

                <div class="col-lg-9 doc-content">
                    
<a href="https://github.com/mattermost/mattermost-developer-documentation/edit/master/site/content/integrate/apps/developer-guide/_index.md" class="float-right edit-github">
    Edit on GitHub
</a>


                    <h1 class="mt-0 doc-title">
                        
                            Guide to Apps
                        
                    </h1>
                    <h2 id="what-are-apps">What are Apps?&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#what-are-apps"></i></a> </h2>
<p>Apps are applications external to Mattermost that can add new functionality to your Mattermost instance.</p>
<p>External apps can:</p>
<ul>
<li>Reside in the same server as your Mattermost instance as they are outside of the Mattermost environment, but they can share the same machine.</li>
<li>Use lambda functions however you would have to do all the provisioning, since they will not be tightly coupled with Mattermost.</li>
<li>Be written in any language you want. Keep in mind that <a href="https://aws.amazon.com/lambda/faqs/">AWS Lambda has some language limitations</a>.</li>
</ul>
<p>There are two types of apps:</p>
<ul>
<li><strong>AWS Lambda:</strong> These are tightly coupled with Mattermost, and can be directly provisioned and managed from within Mattermost.</li>
<li><strong>External apps:</strong> These are hosted outside of Mattermost the Mattermost environment.</li>
</ul>
<p>They both behave as HTTP servers, and Mattermost will reach several endpoints to get the needed information.</p>
<h2 id="basics">Basics&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#basics"></i></a> </h2>
<h3 id="manifest">Manifest&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#manifest"></i></a> </h3>
<p>All apps should define a manifest as a JSON file. The manifest location must be <code>$ROOTURL/manifest</code>. The fields of the manifest are:</p>
<table>
<thead>
<tr>
<th align="left">Field name</th>
<th align="left">Field type</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>app_id</code></td>
<td align="left">string</td>
<td align="left">ID for your app</td>
</tr>
<tr>
<td align="left"><code>app_type</code></td>
<td align="left">http/aws_lambda/builtin</td>
<td align="left">The type of app you are developing</td>
</tr>
<tr>
<td align="left"><code>display_name</code></td>
<td align="left">string</td>
<td align="left">The display name for your app</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left">string</td>
<td align="left">The description for your app. Used in the marketplace.</td>
</tr>
<tr>
<td align="left"><code>homepage_url</code></td>
<td align="left">string</td>
<td align="left">The app homepage. Used in the marketplace and for OAuth purposes.</td>
</tr>
<tr>
<td align="left"><code>root_url</code></td>
<td align="left">string</td>
<td align="left">Base url to send all calls. Only needed for http apps.</td>
</tr>
<tr>
<td align="left"><code>requested_permissions</code></td>
<td align="left">Permissions</td>
<td align="left">All the permissions needed by the app.</td>
</tr>
<tr>
<td align="left"><code>requested_locations</code></td>
<td align="left">Locations</td>
<td align="left">The list of top-level locations that the application intends to bind to.</td>
</tr>
<tr>
<td align="left"><code>install</code></td>
<td align="left">Call</td>
<td align="left">The call to be made when the app gets enabled. By default invoke <code>/install</code>, expanding App.</td>
</tr>
<tr>
<td align="left"><code>bindings</code></td>
<td align="left">Call</td>
<td align="left">The call to be made to retrieve bindings. By default invoke <code>/bindings</code>.</td>
</tr>
</tbody>
</table>
<p>TODO: Manifest example</p>
<h3 id="permissions">Permissions&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#permissions"></i></a> </h3>
<p>These are all the permissions an app can ask for:</p>
<table>
<thead>
<tr>
<th align="left">Field name</th>
<th align="left">Field type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>user_joined_channel_notification</code></td>
<td align="left">Be notified when users join channels</td>
</tr>
<tr>
<td align="left"><code>add_grants</code></td>
<td align="left">Add more grants (WITHOUT ADDITIONAL ADMIN CONSENT)</td>
</tr>
<tr>
<td align="left"><code>act_as_user</code></td>
<td align="left">Use Mattermost REST API as connected users</td>
</tr>
<tr>
<td align="left"><code>act_as_bot</code></td>
<td align="left">Use Mattermost REST API as the app&rsquo;s bot user</td>
</tr>
</tbody>
</table>
<h3 id="locations">Locations&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#locations"></i></a> </h3>
<p>Locations are spaces in the UI where the app can add interactions.</p>
<table>
<thead>
<tr>
<th align="left">Field name</th>
<th align="left">Field type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>/post_menu</code></td>
<td align="left">An item in the post menu.</td>
</tr>
<tr>
<td align="left"><code>/channel_header</code></td>
<td align="left">Webapp: A button in the channel header, Mobile: An item in the channel menu.</td>
</tr>
<tr>
<td align="left"><code>/command</code></td>
<td align="left">A slash command</td>
</tr>
<tr>
<td align="left"><code>/in_post</code></td>
<td align="left">Attachment embedded to a post.</td>
</tr>
</tbody>
</table>
<h3 id="call">Call&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#call"></i></a> </h3>
<p>A call is the definition of an action. The values are:</p>
<table>
<thead>
<tr>
<th align="left">Field name</th>
<th align="left">Field type</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>url</code></td>
<td align="left">string</td>
<td align="left">The app endpoint to call. Mattermost will call <code>$ROOTURL/url</code>.</td>
</tr>
<tr>
<td align="left"><code>values</code></td>
<td align="left">Object</td>
<td align="left">A set of elements to be interpreted by the app. Forms and slash commands will also populate these values.</td>
</tr>
<tr>
<td align="left"><code>expand</code></td>
<td align="left">Expand</td>
<td align="left">A definition of the information to expand to send to the app.</td>
</tr>
</tbody>
</table>
<h3 id="expand">Expand&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#expand"></i></a> </h3>
<p>To avoid extra communication between the app and Mattermost, you can include expansions in the calls. Expansions will send in the call request the whole information of the required fields. You can expand each value to the following leves: “none”, “all” or “summary”.</p>
<p>TODO: Define differences between all and summary</p>
<p>The possible expansions are:</p>
<table>
<thead>
<tr>
<th align="left">Field name</th>
<th align="left">Field type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>app</code></td>
<td align="left">Expands the app information.</td>
</tr>
<tr>
<td align="left"><code>acting_user</code></td>
<td align="left">Expands the Acting User information.</td>
</tr>
<tr>
<td align="left"><code>acting_user_access_token</code></td>
<td align="left">A slash command</td>
</tr>
<tr>
<td align="left"><code>admin_access_token</code></td>
<td align="left">Include the admin access token.</td>
</tr>
<tr>
<td align="left"><code>channel</code></td>
<td align="left">Expands the channel information.</td>
</tr>
<tr>
<td align="left"><code>post</code></td>
<td align="left">Expands the post information.</td>
</tr>
<tr>
<td align="left"><code>root_post</code></td>
<td align="left">Expands the root post information.</td>
</tr>
<tr>
<td align="left"><code>team</code></td>
<td align="left">Expands the team information.</td>
</tr>
</tbody>
</table>
<h2 id="call-handling">Call handling&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#call-handling"></i></a> </h2>
<h3 id="call-request">Call Request&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#call-request"></i></a> </h3>
<p>When a call is performed, a POST request will be made to the endpoint defined in the call. The call will include a “Mattermost-App-Authorization” header, with a jwtToken. Along the default claims, it will also send the Acting User ID.</p>
<p>The call request will include:</p>
<table>
<thead>
<tr>
<th align="left">type</th>
<th align="left">CallType</th>
<th align="left">The type of call being made.</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>values</code></td>
<td align="left">Object</td>
<td align="left">The pairs of key values present in the call. Can be populated by forms and slash commands.</td>
</tr>
<tr>
<td align="left"><code>context</code></td>
<td align="left">Context</td>
<td align="left">The context of the call.</td>
</tr>
<tr>
<td align="left"><code>raw_command</code></td>
<td align="left">string</td>
<td align="left">The unparsed command for slash commands.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left">string</td>
<td align="left">The description for your app. Used in the marketplace.</td>
</tr>
<tr>
<td align="left"><code>homepage_url</code></td>
<td align="left">string</td>
<td align="left">The app homepage. Used in the marketplace and for OAuth purposes.</td>
</tr>
<tr>
<td align="left"><code>root_url</code></td>
<td align="left">string</td>
<td align="left">Base url to send all calls. Only needed for http apps.</td>
</tr>
<tr>
<td align="left"><code>requested_permissions</code></td>
<td align="left">Permissions</td>
<td align="left">All the permissions needed by the app.</td>
</tr>
</tbody>
</table>
<p>The call type can be:</p>
<table>
<thead>
<tr>
<th align="left">type</th>
<th align="left">CallType</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"></td>
<td align="left">Submit. (Empty string)</td>
</tr>
<tr>
<td align="left"><code>form</code></td>
<td align="left">Request for a form.</td>
</tr>
<tr>
<td align="left"><code>lookup</code></td>
<td align="left">Lookup for dynamic selects in forms.</td>
</tr>
</tbody>
</table>
<h3 id="call-context">Call Context&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#call-context"></i></a> </h3>
<p>Depending on the location and expansions, calls will have different context. These are all the possible context values.</p>
<table>
<thead>
<tr>
<th align="left">type</th>
<th align="left">CallType</th>
<th align="left">The type of call being made.</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>app_id</code></td>
<td align="left">string</td>
<td align="left">The app id</td>
</tr>
<tr>
<td align="left"><code>location</code></td>
<td align="left">Location</td>
<td align="left">The location from which the call was performed.</td>
</tr>
<tr>
<td align="left"><code>subject</code></td>
<td align="left">Subject</td>
<td align="left">Event subject.</td>
</tr>
<tr>
<td align="left"><code>bot_user_id</code></td>
<td align="left">string</td>
<td align="left">Bot user id</td>
</tr>
<tr>
<td align="left"><code>acting_user_id</code></td>
<td align="left">string</td>
<td align="left">Id from the user performing the call</td>
</tr>
<tr>
<td align="left"><code>team_id</code></td>
<td align="left">string</td>
<td align="left">Id from the team from within the call was performed.</td>
</tr>
<tr>
<td align="left"><code>channel_id</code></td>
<td align="left">string</td>
<td align="left">Id from the channel from within the call was performed.</td>
</tr>
<tr>
<td align="left"><code>post_id</code></td>
<td align="left">string</td>
<td align="left">root_post_id</td>
</tr>
<tr>
<td align="left"><code>root_post_id</code></td>
<td align="left">string</td>
<td align="left">If the call was performed from a post in a thread, the root post id of that thread.</td>
</tr>
<tr>
<td align="left"><code>mattermost_site_url</code></td>
<td align="left">string</td>
<td align="left">Mattermost base URL</td>
</tr>
<tr>
<td align="left"><code>bot_access_token</code></td>
<td align="left">string</td>
<td align="left">(Expansion)</td>
</tr>
<tr>
<td align="left"><code>acting_user</code></td>
<td align="left">User</td>
<td align="left">(Expansion)</td>
</tr>
<tr>
<td align="left"><code>acting_user_access_token</code></td>
<td align="left">string</td>
<td align="left">(Expansion)</td>
</tr>
<tr>
<td align="left"><code>admin_access_token</code></td>
<td align="left">string</td>
<td align="left">(Expansion)</td>
</tr>
<tr>
<td align="left"><code>app</code></td>
<td align="left">App</td>
<td align="left">(Expansion)</td>
</tr>
<tr>
<td align="left"><code>channel</code></td>
<td align="left">Channel</td>
<td align="left">(Expansion)</td>
</tr>
<tr>
<td align="left"><code>post</code></td>
<td align="left">Post</td>
<td align="left">(Expansion)</td>
</tr>
<tr>
<td align="left"><code>root_post</code></td>
<td align="left">Post</td>
<td align="left">(Expansion)</td>
</tr>
<tr>
<td align="left"><code>team</code></td>
<td align="left">Team</td>
<td align="left">(Expansion)</td>
</tr>
</tbody>
</table>
<h3 id="call-response">Call Response&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#call-response"></i></a> </h3>
<p>There are several types of responses:</p>
<table>
<thead>
<tr>
<th align="left">type</th>
<th align="left">CallType</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"></td>
<td align="left">OK. (Empty string)</td>
</tr>
<tr>
<td align="left"><code>error</code></td>
<td align="left">An error has occurred.</td>
</tr>
<tr>
<td align="left"><code>form</code></td>
<td align="left">Should open a form.</td>
</tr>
<tr>
<td align="left"><code>call</code></td>
<td align="left">Should perform another call.</td>
</tr>
<tr>
<td align="left"><code>navigate</code></td>
<td align="left">Should navigate the user to a url.</td>
</tr>
</tbody>
</table>
<h4 id="ok-response">OK response&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#ok-response"></i></a> </h4>
<table>
<thead>
<tr>
<th align="left">type</th>
<th align="left">Response</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>type</code></td>
<td align="left">(Empty string)</td>
</tr>
<tr>
<td align="left"><code>markdown</code></td>
<td align="left">string</td>
</tr>
</tbody>
</table>
<h4 id="error-response">Error response&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#error-response"></i></a> </h4>
<table>
<thead>
<tr>
<th align="left">type</th>
<th align="left">Error</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>type</code></td>
<td align="left">error</td>
</tr>
<tr>
<td align="left"><code>error</code></td>
<td align="left">string</td>
</tr>
</tbody>
</table>
<h4 id="form-response">Form response&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#form-response"></i></a> </h4>
<table>
<thead>
<tr>
<th align="left">type</th>
<th align="left">form</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>type</code></td>
<td align="left">form</td>
</tr>
<tr>
<td align="left"><code>error</code></td>
<td align="left">form</td>
</tr>
</tbody>
</table>
<h4 id="navigate-response">Navigate response&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#navigate-response"></i></a> </h4>
<table>
<thead>
<tr>
<th align="left">type</th>
<th align="left">navigate</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>type</code></td>
<td align="left">navigate</td>
</tr>
<tr>
<td align="left"><code>navigate_to_url</code></td>
<td align="left">string</td>
</tr>
</tbody>
</table>
<h2 id="special-calls">Special calls&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#special-calls"></i></a> </h2>
<h3 id="install">Install&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#install"></i></a> </h3>
<p>When the app is installed, a special call is made to inform the app that it has been installed on the instance. This call is used mainly to initialize any needed information. If the app asks for Permissions to act as an user, the call will include among the values, the OAuth2 client secret, under the value “oauth2_client_secret”. The context will include the acting user ID, the app ID, the team ID, and the app and Admin access token expanded by default.</p>
<p>The expected responses are either OK or Error responses.</p>
<h2 id="bindings">Bindings&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#bindings"></i></a> </h2>
<p>Bindings are what establish the relationship between locations and calls. Whenever it is called, you have to provide the list of bindings available according to the context. The context for the bindings call includes the app id, bot access token, team id, channel id, acting user id and mattermost site url. By default it does not expand any value.</p>
<p>The expected response should include the following:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>data</code></td>
<td align="left">bindings</td>
<td align="left">The list of bindings</td>
</tr>
</tbody>
</table>
<p>Bindings are organized by top level locations. Top level bindings just need to define:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>location</code></td>
<td align="left">string</td>
<td align="left">Top level location</td>
</tr>
<tr>
<td align="left"><code>bindings</code></td>
<td align="left">Bindings</td>
<td align="left">A list of bindings under this location.</td>
</tr>
</tbody>
</table>
<p><code>/in_post </code> bindings do not need to be defined in this call.</p>
<h3 id="post_menu-bindings"><code>/post_menu</code> bindings&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#post_menu-bindings"></i></a> </h3>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>location</code></td>
<td align="left">string</td>
<td align="left">Name of this location. The whole path of locations will be added in the context</td>
</tr>
<tr>
<td align="left"><code>icon</code></td>
<td align="left">string</td>
<td align="left">(Optional) Url to the icon</td>
</tr>
<tr>
<td align="left"><code>label</code></td>
<td align="left">string</td>
<td align="left">Text to show in the item</td>
</tr>
<tr>
<td align="left"><code>call</code></td>
<td align="left">Call</td>
<td align="left">Call to perform</td>
</tr>
</tbody>
</table>
<p>The call for these bindings will include in the context the user ID, the post ID, the root post ID if any, the channel ID and the team ID.
/channel_header bindings</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>location</code></td>
<td align="left">string</td>
<td align="left">Name of this location. The whole path of locations will be added in the context.</td>
</tr>
<tr>
<td align="left"><code>icon</code></td>
<td align="left">string</td>
<td align="left">(Optional) Url to the icon</td>
</tr>
<tr>
<td align="left"><code>label</code></td>
<td align="left">string</td>
<td align="left">Text to show in the item on mobile and webapp collapsed view</td>
</tr>
<tr>
<td align="left"><code>hint</code></td>
<td align="left">string</td>
<td align="left">Text to show in tooltip</td>
</tr>
<tr>
<td align="left"><code>call</code></td>
<td align="left">Call</td>
<td align="left">Call to perform.</td>
</tr>
</tbody>
</table>
<p>The call for these bindings will include in the context the user ID, the channel ID and the team ID.</p>
<h3 id="command-bindings"><code>/command</code> bindings&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#command-bindings"></i></a> </h3>
<p>For commands we can distinguish between leaf commands (executable subcommand) and partial commands.</p>
<p>A partial command must include:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>location</code></td>
<td align="left">string</td>
<td align="left">The label to use to define the command.</td>
</tr>
<tr>
<td align="left"><code>hint</code></td>
<td align="left">string</td>
<td align="left">(Optional) Hint line on command autocomplete.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left">string</td>
<td align="left">(Optional) Description line on command autocomplete.</td>
</tr>
<tr>
<td align="left"><code>bindings</code></td>
<td align="left">Bindings</td>
<td align="left">List of subcommands.</td>
</tr>
</tbody>
</table>
<p>A leaf command must include:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>location</code></td>
<td align="left">string</td>
<td align="left">The label to use to define the command.</td>
</tr>
<tr>
<td align="left"><code>hint</code></td>
<td align="left">string</td>
<td align="left">(Optional) Hint line on command autocomplete.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left">string</td>
<td align="left">(Optional) Description line on command autocomplete.</td>
</tr>
<tr>
<td align="left"><code>call</code></td>
<td align="left">Call</td>
<td align="left">Call to perform when executing the command</td>
</tr>
<tr>
<td align="left"><code>form</code></td>
<td align="left">Form</td>
<td align="left">(Optional) Form representing the parameters the command can receive. If no form is provided, a form call will be made to the specified call.</td>
</tr>
</tbody>
</table>
<p>The call for these bindings will include in the context the user ID, the post ID, the root post ID if any, the channel ID and the team ID. It will also include the raw command.</p>
<h2 id="interaction">Interaction&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#interaction"></i></a> </h2>
<h3 id="modal-forms">Modal Forms&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#modal-forms"></i></a> </h3>
<p>Modal Forms open as a modal on the user interface as a result of a Form call response. They are defined by:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>title</code></td>
<td align="left">string</td>
<td align="left">Title of the form, shown in the modal.</td>
</tr>
<tr>
<td align="left"><code>header</code></td>
<td align="left">string</td>
<td align="left">(Optional) Text used as introduction in the form.</td>
</tr>
<tr>
<td align="left"><code>submit_buttons</code></td>
<td align="left">string</td>
<td align="left">(Optional) Key of the field to be used as the submit buttons. Must be of type static_select.</td>
</tr>
<tr>
<td align="left"><code>fields</code></td>
<td align="left">Fields</td>
<td align="left">List of fields in the form.</td>
</tr>
<tr>
<td align="left"><code>call</code></td>
<td align="left">Call</td>
<td align="left">Call to perform for this form.</td>
</tr>
</tbody>
</table>
<p>The types of fields are:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>text</code></td>
<td align="left">Text field</td>
</tr>
<tr>
<td align="left"><code>static_select</code></td>
<td align="left">A dropdown select with static elements.</td>
</tr>
<tr>
<td align="left"><code>dynamic_select</code></td>
<td align="left">A dropdown select that loads the elements dynamically.</td>
</tr>
<tr>
<td align="left"><code>bool</code></td>
<td align="left">A boolean selector represented as a checkbox.</td>
</tr>
<tr>
<td align="left"><code>user</code></td>
<td align="left">A dropdown with to select users.</td>
</tr>
<tr>
<td align="left"><code>channel</code></td>
<td align="left">A dropdown to select channels.</td>
</tr>
</tbody>
</table>
<p>All fields include:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>name</code></td>
<td align="left">string</td>
<td align="left">Key to use in the Values field of the call.</td>
</tr>
<tr>
<td align="left"><code>type</code></td>
<td align="left">FieldType</td>
<td align="left">The type of the field.</td>
</tr>
<tr>
<td align="left"><code>is_required</code></td>
<td align="left">bool</td>
<td align="left">(Optional) Whether the field needs to be filled.</td>
</tr>
<tr>
<td align="left"><code>value</code></td>
<td align="left">value</td>
<td align="left">(Optional) Default value.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left">string</td>
<td align="left">(Optional) Text to show below the field describing it.</td>
</tr>
<tr>
<td align="left"><code>modal_label</code></td>
<td align="left">string</td>
<td align="left">(Optional) Label to name the field in the modal.</td>
</tr>
</tbody>
</table>
<p>Text fields may include:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>subtype</code></td>
<td align="left">string</td>
<td align="left">(Optional) The type of text that will be shown. Available types are one of text, textarea, email, number, password, tel, or url.</td>
</tr>
<tr>
<td align="left"><code>min_length</code></td>
<td align="left">int</td>
<td align="left">(Optional) Validate the field length before performing the call.</td>
</tr>
<tr>
<td align="left"><code>max_length</code></td>
<td align="left">int</td>
<td align="left">(Optional) Validate the field length before performing the call.</td>
</tr>
</tbody>
</table>
<p>Static select fields include:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>options</code></td>
<td align="left">Options</td>
<td align="left">Options for the dropdown.</td>
</tr>
</tbody>
</table>
<p>Each Option includes:
|         |        |                       |
| :&mdash;&mdash; | :&mdash;&ndash; | :&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; |
| <code>label</code> | string | User facing string.   |
| <code>value</code> | string | Machine facing value. |</p>
<p>All select also include:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>refresh</code></td>
<td align="left">bool</td>
<td align="left">(Optional) Allows the form to be refreshed when the value of a dropdown is changed.</td>
</tr>
</tbody>
</table>
<p>A modal form performs a lookup call to the call endpoint any time a dynamic dropdown is selected. The lookup call will include in the context the app id, the user id, the channel id, and the team id. The values will be populated with the current values of the form. The expected response is error or the following:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">data</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">-</td>
<td align="left"><code>items</code></td>
<td align="left">Options</td>
<td align="left">The list of options to show</td>
</tr>
</tbody>
</table>
<p>If any select has the refresh value set as true, a form call to the call endpoint any time the select changes value. The form call will include in the context the app id, the user id, the channel id, and the team id. The values will be populated with the current values of the form. The expected response is a form response. The whole form will be updated with the new form.</p>
<p>On submit, the submit call to the call endpoint will be sent. The submit call will include in the context the app id, the user id, the channel id, and the team id. The values will be populated with the current values of the form.</p>
<h2 id="commands-as-forms">Commands as forms&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#commands-as-forms"></i></a> </h2>
<p>Commands arguments are treated as forms. When a leaf command is typed, the arguments of the command are fetched. If the command binding has a Form attached, those will be used. If not, a form call will be made to the command call. The call will include in the context the app ID, user ID, the post ID, the root post ID if any, the channel ID and the team ID. The call will expect a form response.</p>
<p>A command form is defined as:
|          |        |                                                                                                                                |
| :&mdash;&mdash;- | :&mdash;&ndash; | :&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; |
| <code>fields</code> | Fields | List of fields in the form.                                                                                                    |
| <code>call</code>   | Call   | (Optional) Call to perform on all actions form related (including submit). If not provided, will use the command binding call. |</p>
<p>The type of fields is the same as for Modal forms.</p>
<p>All fields include:
|               |           |                                                                         |
| :&mdash;&mdash;&mdash;&mdash; | :&mdash;&mdash;&ndash; | :&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;- |
| <code>name</code>        | string    | Key to use in the Values field of the call, and as part of the command. |
| <code>type</code>        | FieldType | The type of the field.                                                  |
| <code>is_required</code> | bool      | Whether the field needs to be filled.                                   |
| <code>description</code> | string    | Text to show on the description line on autocomplete.                   |
| <code>hint</code>        | string    | Text to show on the hint line on autocomplete.                          |
| <code>label</code>       | string    | Label to name the field in autocomplete.                                |</p>
<p>Options are defined as:
|             |        |                                      |
| :&mdash;&mdash;&mdash;- | :&mdash;&ndash; | :&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; |
| <code>label</code>     | string | User facing string.                  |
| <code>value</code>     | string | Machine facing value.                |
| <code>icon_data</code> | string | URL to icon to show on autocomplete. |</p>
<p>When the command is executed, a submit call will be performed on the call endpoint. The call will include in the context the app ID, user ID, the post ID, the root post ID if any, the channel ID and the team ID.</p>
<h2 id="embedded-bindings">Embedded Bindings&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#embedded-bindings"></i></a> </h2>
<p>Posts can be embedded with bindings. These are used for asynchronous interaction with the user. In order to add an embedded binding you need to add an “app_bindings” property with a list of EmbeddedBindings. An EmbeddedBinding includes:
|            |         |                           |
| :&mdash;&mdash;&mdash; | :&mdash;&mdash; | :&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash; |
| <code>app_id</code>   | string  | The app ID                |
| <code>title</code>    | string  | Title of the attachment   |
| <code>text</code>     | string  | Text of the attachment    |
| <code>bindings</code> | Binding | List of embedded bindings |</p>
<p>Bindings are of two types, buttons or selects.
Buttons include:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>location</code></td>
<td align="left">string</td>
<td align="left">Location name. The whole location path will be provided in the context.</td>
</tr>
<tr>
<td align="left"><code>label</code></td>
<td align="left">string</td>
<td align="left">Label that will show in the button.</td>
</tr>
<tr>
<td align="left"><code>call</code></td>
<td align="left">Call</td>
<td align="left">Call to be made when the button is clicked.</td>
</tr>
</tbody>
</table>
<p>Selects include:
|            |         |                                                                                                              |
| :&mdash;&mdash;&mdash; | :&mdash;&mdash; | :&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; |
| <code>location</code> | string  | Location name. The whole location path will be provided in the context.                                      |
| <code>label</code>    | string  | Label that will show in the button.                                                                          |
| <code>call</code>     | Call    | (Optional) Call to be made when the button is clicked. If none is provided, all options must include a call. |
| <code>bindings</code> | Binding | Options for the select.                                                                                      |</p>
<p>Options bindings include:
|            |        |                                                                                                                    |
| :&mdash;&mdash;&mdash; | :&mdash;&ndash; | :&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; |
| <code>location</code> | string | Option name. The whole location path will be provided in the context.                                              |
| <code>label</code>    | string | User facing string.                                                                                                |
| <code>call</code>     | Call   | (Optional) Call to perform when the option is selected. If none is defined, it will take the call from the select. |</p>
<p>Whenever a button is clicked or a select field is selected, a submit call is performed to the corresponding call endpoint. The call will include in the context the app ID, user ID, the post ID, the root post ID if any, the channel ID and the team ID.</p>


                </div>
            </div>
        </div>
    </div>
    <footer class="text-center">
    <div class="container-fluid">
        <div class="footer__copyright">© Mattermost, Inc. All Rights Reserved.</div>
        <div class="footer__icons">
            <a href="https://www.facebook.com/Mattermost-2300985916642531/" target="_blank" rel="noopener noreferrer" class="btn-primary"><i class="fa fa-facebook"></i></a>
            <a href="https://twitter.com/mattermost" target="_blank" rel="noopener noreferrer" class="btn-primary"><i class="fa fa-twitter"></i></a>
            <a href="https://www.youtube.com/channel/UCNR05H72hi692y01bWaFXNA" target="_blank" rel="noopener noreferrer" class="btn-primary"><i class="fa fa-youtube"></i></a>
        </div>
    </div>
</footer>


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
<script src="https://developers.mattermost.com/js/tabs.js"></script>
<script src="https://developers.mattermost.com/js/main.js"></script>

</body>
</html>
